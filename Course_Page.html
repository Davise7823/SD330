<!doctype html>
<html lang="eng">
	<head>
		<meta charset="utf-8">
		<title>FoxBooks</title>
		<link rel="stylesheet" type="text/css" href="Foxbooks.css" />
	</head>
	<body>
		<h1>FoxBooks</h1>
		<div id="course_selection">
			<h2 id="test">Find Your Textbooks:</h2>
			<p>Enter the CRN:</p>
			<select name="" id="CRN">
			<optgroup label="">
					<option value="" selected="selected"></option>
			</optgroup>
			</select>
			<p>Enter the Section:</p>
			<select name="" id="Section">
			<optgroup label="">
					<option value="" selected="selected"></option>
			</optgroup>
			</select>
			<input type="submit" value="Submit" onClick="Submit();" />
			<h2 id="Course_Info"></h2>
		</div>
		<script>
			courseInfo = document.getElementById("Course_Info");
			fetch("https://davise7823.github.io/SD330/foxbooks.json",{method: "GET"}).then((response) => {
				console.log('resolved', response);
				return response.json();
			}).then(data => {
				console.log(data.courses[3].CRN);
				for (let i = 0; i < data.courses.length; i++){
					var x = document.getElementById("CRN");
					var option = document.createElement("option");
					option.text = data.courses[i].CRN;
					x.add(option);
				}
				console.log(data.courses[3].Section);
				for (let i = 0; i < data.courses.length; i++){
					var x = document.getElementById("Section");
					var option = document.createElement("option");
					option.text = data.courses[i].Section;
					x.add(option);
				}
			}).catch((err) => {
				console.log('rejected', err);
			})
			
			function Submit(){
				selectCRN = document.getElementById("CRN").value;
				selectSection = document.getElementById("Section").value;
				switch(selectCRN){
					case 12054:
						document.getElementById("Course_Info").innerHTML = data.courses[0].Name;
					break;
					case 10016:
						document.getElementById("Course_Info").innerHTML = data.courses[1].Name;
					break;
					case 11011:
						document.getElementById("Course_Info").innerHTML = data.courses[2].Name;
					break;
					case 11338:
						document.getElementById("Course_Info").innerHTML = data.courses[3].Name;
					break;
					case 12005:
						document.getElementById("Course_Info").innerHTML = data.courses[4].Name;
					break;
					case 12017:
						document.getElementById("Course_Info").innerHTML = data.courses[5].Name;
					break;
					case 11452:
						document.getElementById("Course_Info").innerHTML = data.courses[6].Name;
					break;
					case 12904:
						document.getElementById("Course_Info").innerHTML = data.courses[7].Name;
					break;
				}
			}
			
		</script>
		<footer>
			<hr />
			<small>&copy Elijah D - 09/25/23</small>
		</footer>
	</body>
</html>
